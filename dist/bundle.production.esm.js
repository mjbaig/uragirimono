var e=function(){function e(){this.channels=new Map,this.worker=null,this.process="\n            self.onmessage = function (message) {\n                console.log(message.data);\n\n                self.postMessage(message.data);\n            }\n        ",this.init()}return e.prototype.init=function(){if(null==this.worker){var e="( () => {\n                "+this.process.toString()+"\n        })();";console.log(e);var n=new Blob([e],{type:"application/javascript"});this.worker=new Worker(window.URL.createObjectURL(n)),this.worker.onmessage=function(e){if(e){var n=e.data,t=this.channels.get(n.channel);t&&t.map((function(e){e.update(n)}))}}.bind(this)}},e.prototype.registerChannel=function(e){this.channels.get(e)||this.channels.set(e,[])},e.prototype.send=function(e){this.worker.postMessage(e)},e.prototype.registerSubscriber=function(e,n){this.channels.get(e)&&this.channels.get(e).push(n)},e}();export default e;
